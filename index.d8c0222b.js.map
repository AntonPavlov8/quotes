{"mappings":"AACA,MAAMA,EAAUC,SAASC,cAAc,UACjCC,EAAWF,SAASC,cAAc,gBAClCE,EAAiBH,SAASC,cAAc,iBACxCG,EAAgBJ,SAASC,cAAc,yBACvCI,EAAeL,SAASC,cAAc,wBAE5C,IAAIK,EAAe,EACfC,EAAgB,GAChBC,EAAO,EAEX,SAASC,KCXTC,iBACE,MAOMC,QAAiBC,MACrB,iDARc,CACdC,OAAQ,MACRC,QAAS,CACP,iBAAkB,qDAClB,kBAAmB,6BAOvB,GAAKH,EAASI,GAEP,OAAOJ,EAASK,OADrB,MAAM,IAAIC,MAAMN,EAASO,O,EDD3BC,GACGC,MAAKC,IACJtB,EAAQuB,YAAcD,EAAKE,QAC3BrB,EAASoB,YAAc,KACvBpB,EAASoB,aAAeD,EAAKG,WAAWC,KACxCtB,EAAeuB,MAAMC,QAAU,OAC/BxB,EAAeuB,MAAME,SAAW,WAChCtB,EAAe,EACfC,EAAgB,EAAE,IAEnBsB,OAAMC,GAAOC,QAAQC,MAAMF,I,CAqBhC,SAASG,IACPlC,EAAQuB,YAAcf,EAAcD,GAAc4B,MAClDhC,EAASoB,YAAc,KACvBpB,EAASoB,aAAef,EAAcD,GAAcmB,KACpDnB,G,CAvBFG,IAEAL,EAAc+B,iBAAiB,SAAS,IAAM1B,MAE9CJ,EAAa8B,iBAAiB,SAAS,KACrC,GAAqB,IAAjB7B,GAAsBA,IAAiBC,EAAc6B,OAAQ,ECZnE1B,eAA6B2B,EAAQC,GACnC,MAAMC,EAAU,CACd1B,OAAQ,OACRC,QAAS,CACP,eAAgB,mBAChB,iBAAkB,qDAClB,kBAAmB,gCAErB0B,KAAM,yBAAyBF,qBAAwBD,OAEnD1B,QAAiBC,MACrB,8CACA2B,GAEF,GAAK5B,EAASI,GAEP,OAAOJ,EAASK,OADrB,MAAM,IAAIC,MAAMN,EAASO,O,EDAzBuB,CAFevC,EAASoB,YAAYoB,MAAM,GAAGC,cAEnBnC,GACvBY,MAAKC,IACJf,EAAe,EACfE,IACAD,EAAgBc,EAChBY,GAAQ,IAETJ,OAAMC,GAAOC,QAAQC,MAAMF,I,MACzBG,GAAQ","sources":["src/index.js","src/fetchData.js"],"sourcesContent":["import * as API from './fetchData';\nconst quoteEl = document.querySelector('.quote');\nconst authorEl = document.querySelector('.quoteAuthor');\nconst buttonsBlockEl = document.querySelector('.buttonsBlock');\nconst randomQuoteEl = document.querySelector('.button[random-quote]');\nconst moreQuotesEl = document.querySelector('.button[more-quotes]');\n\nlet quoteCounter = 0;\nlet quotesStorage = [];\nlet page = 0;\n\nfunction newQuote() {\n  API.getQuote()\n    .then(data => {\n      quoteEl.textContent = data.content;\n      authorEl.textContent = '- ';\n      authorEl.textContent += data.originator.name;\n      buttonsBlockEl.style.display = 'flex';\n      buttonsBlockEl.style.position = 'absolute';\n      quoteCounter = 0;\n      quotesStorage = [];\n    })\n    .catch(err => console.error(err));\n}\nnewQuote();\n\nrandomQuoteEl.addEventListener('click', () => newQuote());\n\nmoreQuotesEl.addEventListener('click', () => {\n  if (quoteCounter === 0 || quoteCounter === quotesStorage.length) {\n    const author = authorEl.textContent.slice(2).toLowerCase();\n\n    API.getMoreQuotes(author, page)\n      .then(data => {\n        quoteCounter = 0;\n        page++;\n        quotesStorage = data;\n        render();\n      })\n      .catch(err => console.error(err));\n  } else render();\n});\n\nfunction render() {\n  quoteEl.textContent = quotesStorage[quoteCounter].quote;\n  authorEl.textContent = '- ';\n  authorEl.textContent += quotesStorage[quoteCounter].name;\n  quoteCounter++;\n}\n","async function getQuote() {\n  const options = {\n    method: 'GET',\n    headers: {\n      'X-RapidAPI-Key': '6e52bcb19emsh65968e54358a7e0p173aa3jsn04868ace3acf',\n      'X-RapidAPI-Host': 'quotes15.p.rapidapi.com',\n    },\n  };\n  const response = await fetch(\n    'https://quotes15.p.rapidapi.com/quotes/random/',\n    options\n  );\n  if (!response.ok) {\n    throw new Error(response.status);\n  } else return response.json();\n}\n\nasync function getMoreQuotes(author, page) {\n  const options = {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n      'X-RapidAPI-Key': '6e52bcb19emsh65968e54358a7e0p173aa3jsn04868ace3acf',\n      'X-RapidAPI-Host': 'quotel-quotes.p.rapidapi.com',\n    },\n    body: `{\"pageSize\":10,\"page\":${page},\"searchString\":\"${author}\"}`,\n  };\n  const response = await fetch(\n    'https://quotel-quotes.p.rapidapi.com/search',\n    options\n  );\n  if (!response.ok) {\n    throw new Error(response.status);\n  } else return response.json();\n}\nexport { getQuote, getMoreQuotes };\n"],"names":["$1f0dc3b9307be026$var$quoteEl","document","querySelector","$1f0dc3b9307be026$var$authorEl","$1f0dc3b9307be026$var$buttonsBlockEl","$1f0dc3b9307be026$var$randomQuoteEl","$1f0dc3b9307be026$var$moreQuotesEl","$1f0dc3b9307be026$var$quoteCounter","$1f0dc3b9307be026$var$quotesStorage","$1f0dc3b9307be026$var$page","$1f0dc3b9307be026$var$newQuote","async","response","fetch","method","headers","ok","json","Error","status","$af2a9cc718cff624$export$2628323f89a438a6","then","data","textContent","content","originator","name","style","display","position","catch","err","console","error","$1f0dc3b9307be026$var$render","quote","addEventListener","length","author","page","options","body","$af2a9cc718cff624$export$dcddb4cdf36f4be3","slice","toLowerCase"],"version":3,"file":"index.d8c0222b.js.map"}